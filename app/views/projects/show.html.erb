<h1><%= @project.title %></h1>

<% if business_user? %>
    <p>
    <strong>Client:</strong> <%= @project.client.first_name %> <%= @project.client.last_name %><br>
    <strong>Total Billable Time:</strong> <%= project_total_hours(@project) %>
    <p>
<% else %>
    <strong>Total Time:</strong> <%= project_total_hours(@project) %>
<% end %>

<h2>Time Entries:</h2>

<div class="te-display-group">
    <div class="btn-group" role="group" aria-label="Button group for time entries">
        <%= button_to 'Add New Entry', new_project_time_entry_path(@project), class: 'btn btn-primary', method: :get %>
        <%= button_to 'All Time Entries', project_time_entries_path(@project), class: 'btn btn-secondary', method: :get %>
    </div> <!-- btn-group -->
</div> <!-- row -->

<p>Displaying the five most recent entries:</p>

<ul class="list-group">
    <% if @project.time_entries != [] %> 
        <% latest_entries.each do |t| %> <!-- see projects helper -->
            <li class="list-group-item"><strong>Title:</strong> <%= link_to t.title, time_entry_path(@project, t) %> | <strong>Duration:</strong> <%= time_duration(t) %> | <strong>Created:</strong> <%= t.created_at.strftime("%A, %d %b %Y %l:%M %p") %></li>
        <% end %>
    <% else %>
        No recorded time entries. Click 'Add New Entry' to get started.
    <% end %>
</ul>
